# Environment Variables Configuration
# Copy this file to .env and update the values according to your setup

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=codevn
DB_USER=postgres
DB_PASSWORD=password
DB_SSL=false

# =============================================================================
# API CONFIGURATION
# =============================================================================
# Server-side API URL (for internal server-to-server calls)
# This is used by the Fastify server and server-side Next.js code
API_URL=http://localhost:3001

# Client-side API URL (public, accessible from browser)
# This is used by client-side React components and hooks
# Must be accessible from the browser, so use the Next.js server URL
NEXT_PUBLIC_API_URL=http://localhost:3000

# API timeout and retry configuration
API_TIMEOUT=10000
API_RETRY_ATTEMPTS=3

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================
# JWT secret key (should be at least 32 characters long)
JWT_SECRET=your-super-secret-key-that-is-at-least-32-characters-long

# Cookie domain for production (optional)
# If not set, cookies will work for the current domain only
# Use .yourdomain.com for subdomain support
COOKIE_DOMAIN=

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Port for the Fastify server (API server)
PORT=3001

# Host for the Fastify server
HOST=0.0.0.0

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Maximum file size in bytes (5MB = 5242880 bytes)
MAX_FILE_SIZE=5242880

# Upload paths
UPLOAD_PATH=public/uploads
AVATAR_PATH=public/uploads/avatars
IMAGE_PATH=public/uploads/images

# =============================================================================
# CHAT CONFIGURATION
# =============================================================================
# Chat polling interval in milliseconds
CHAT_POLLING_INTERVAL=2000

# Maximum messages per page
CHAT_MAX_MESSAGES_PER_PAGE=20

# Typing timeout in milliseconds
CHAT_TYPING_TIMEOUT=2000

# Maximum reconnection attempts
CHAT_MAX_RECONNECT_ATTEMPTS=5

# =============================================================================
# PAGINATION CONFIGURATION
# =============================================================================
# Default page size for pagination
DEFAULT_PAGE_SIZE=10

# Maximum page size for pagination
MAX_PAGE_SIZE=100

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# Rate limit window in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# CORS origins (comma-separated list)
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable console logging
LOG_ENABLE_CONSOLE=true

# Enable file logging
LOG_ENABLE_FILE=false

# Log file path
LOG_FILE_PATH=logs/app.log

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
# Email service configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=
EMAIL_PASS=
EMAIL_FROM=noreply@codevn.com

# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================
# Redis connection configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Enable debug mode
ENABLE_DEBUG=false

# =============================================================================
# NOTES
# =============================================================================
# 1. API_URL vs NEXT_PUBLIC_API_URL:
#    - API_URL: Used by server-side code (Fastify server, Next.js API routes)
#    - NEXT_PUBLIC_API_URL: Used by client-side code (React components, browser)
#
# 2. In development:
#    - API_URL=http://localhost:3001 (Fastify server)
#    - NEXT_PUBLIC_API_URL=http://localhost:3000 (Next.js server with rewrites)
#
# 3. In production:
#    - API_URL=https://api.yourdomain.com (Your API server)
#    - NEXT_PUBLIC_API_URL=https://yourdomain.com (Your frontend domain)
#
# 4. The Next.js configuration includes rewrites to proxy /api/* requests
#    from the frontend to the Fastify server, so client-side code can use
#    relative URLs like '/api/auth/login' which will be proxied to the API server.
